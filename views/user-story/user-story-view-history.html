<!-- 
// @file task-view-history.html
// @description - history of issues 
// @author prabhjot_kaur
// @date  15 June 2017
-->  
<div class="row">
    <div class="col-xs-12">  
        <div class="xtraSpace">
            <div class="tab-container">
                <div class="col-md-12">
                    <div class="panel panel-default padding-15x" data-ng-init="viewHistory()">
                        <div class="page_title" >
                            <h1><i class="fa fa-history" aria-hidden="true"></i>  User Story History {{totalUSHistoryCount}}</h1>
                        </div> 								
                        <div class="panel-body table-responsive">
                            <table class="table table-striped table-bordered " cellspacing="0 " width="100% ">
                                <thead class="thead-inverse ">
                                    <tr>
                                        <th></th>                                            
                                        <th>Message</th>
                                        <th>Event</th>
                                        <th>Project Name</th>
                                        <th>Created At</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-ng-repeat="us_history in userstory_history track by $index" ng-if="userstory_history.length > 0">
                                        <td><div class="media-left">  
                                                <img style="width:100px;height:100px;display: block; " ng-src="{{ (us_history.sender_id.profile_pic && us_history.sender_id.profile_pic != undefined) ? baseUrl +'attachment/admin/'+ us_history.sender_id.profile_pic : 'assets/img/default-user.png'}}" class="thumbnail img-responsive" title="{{us_history.sender_id.first_name}} {{us_history.sender_id.last_name}}">                                                                                                 
                                                <span class="capitalize">{{us_history.sender_id.first_name}} {{us_history.sender_id.last_name}}</span></div></td>
                                        <td data-ng-bind="us_history.message" class="firstCap"></td>
                                        <td data-ng-bind="us_history.event_type_id.name | capitalize"></td>
                                        <td data-ng-bind="us_history.project_id.title | capitalize"></td>
                                        <td data-ng-bind="us_history.created_at | convert_date"></td>
                                        <td>{{us_history.parent_id.name}}</td>
                                    </tr> 
                                    <tr ng-if="userstory_history.length == 0">
                                        <td colspan="8" class="capitalize no-data">no task history</td>
                                    </tr>                                               
                                </tbody>
                            </table>
                        </div> 
                    </div>
                    <!-- <div ng-if="task_history.length>0"> -->
                    <nav aria-label="Page navigation" class="pull-right">
                        <ul class="pagination" uib-pagination total-items="totalUSHistoryCount" data-ng-model="currentPageTaskHistory" boundary-link-numbers="true" max-size="5" rotate="false" data-ng-change="viewHistory()">
                        </ul>
                    </nav><!-- </div> -->
                </div>
                <!-- /.row -->
            </div>
        </div>
    </div>
</div>

